<p-dialog
  header="Esqueci minha senha"
  [(visible)]="mostrarMenuEsqueciSenha"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  (visibleChange)="hide()"
>
  <div
    class="flex flex-column justify-content-center align-items-center gap-4 w-full py-2 px-4"
    style="min-width: 350px"
    *ngIf="!success"
  >
    <p class="text-lg text-center">
      Informe o nome de usuário para recuperação de senha
    </p>

    <div class="w-full">
      <span class="p-float-label w-full">
        <input
          pInputText
          required
          class="w-full"
          [disabled]="isLoading"
          [(ngModel)]="username"
        />

        <label>Nome de usuário</label>
      </span>

      <span class="text-sm font-semibold text-gray-600">
        Exemplo: primeironome.segundonome
      </span>
    </div>

    <button
      pButton
      pRipple
      [label]="isLoading ? 'Carregando...' : 'Recuperar'"
      class="p-button-primary p-button-raised w-full p-button-sm uppercase mt-4"
      [loading]="isLoading"
      (click)="recuperarSenha()"
    ></button>
  </div>

  <div *ngIf="success" class="slide-in-left py-2 px-4" style="width: 450px">
    <div
      class="flex flex-column gap-4 align-items-center fadein animation-duration-1000"
    >
      <i class="pi pi-check-circle text-green-500 text-6xl"></i>

      <h3 class="text-center">
        Foi enviado um email com sua nova senha para: {{ email }} <br />

        <small class="text-gray-500">
          Use o seu login e senha para acessar a plataforma.
        </small>
      </h3>
    </div>
  </div>
</p-dialog>

<p-toast />
